---
ms.date: 06/12/2017
contributor: JKeithB, SydneyhSmith
keywords: Galeria, PowerShell, cmdlet, psgallery
description: Diretrizes para Publicadores
title: Diretrizes de publicação de Galeria do PowerShell e práticas recomendadas
ms.openlocfilehash: aa7ac4eeb96e8234bbac820fea6cab2b37f688d0
ms.sourcegitcommit: 02eed65c526ef19cf952c2129f280bb5615bf0c8
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 09/03/2019
ms.locfileid: "70215373"
---
# <a name="powershellgallery-publishing-guidelines-and-best-practices"></a><span data-ttu-id="f5b28-104">Diretrizes e práticas recomendadas de publicação do PowerShellGallery</span><span class="sxs-lookup"><span data-stu-id="f5b28-104">PowerShellGallery Publishing Guidelines and Best Practices</span></span>

<span data-ttu-id="f5b28-105">Este artigo descreve as etapas recomendadas usadas pelas equipes da Microsoft para garantir que os pacotes publicados no Galeria do PowerShell sejam amplamente adotados e forneçam alto valor aos usuários, com base em como o Galeria do PowerShell lida com dados de manifesto e comentários de grandes números de Galeria do PowerShell usuários.</span><span class="sxs-lookup"><span data-stu-id="f5b28-105">This article describes recommended steps used by Microsoft teams to ensure the packages published to the PowerShell Gallery will be widely adopted and provide high value to users, based on how the PowerShell Gallery handles manifest data and on feedback from large numbers of PowerShell Gallery users.</span></span> <span data-ttu-id="f5b28-106">Os pacotes publicados seguindo essas diretrizes terão maior probabilidade de serem instalados, confiáveis e atrair mais usuários.</span><span class="sxs-lookup"><span data-stu-id="f5b28-106">Packages that are published following these guidelines will be more likely to be installed, trusted, and attract more users.</span></span>

<span data-ttu-id="f5b28-107">Veja abaixo as diretrizes para o que faz um bom pacote de Galeria do PowerShell, quais configurações opcionais de manifesto são mais importantes, melhorando seu código com os comentários dos revisores iniciais e do [PowerShell script Analyzer](https://aka.ms/psscriptanalyzer), versionando seu módulo, documentação, testes e exemplos de como usar o que você compartilhou.</span><span class="sxs-lookup"><span data-stu-id="f5b28-107">Included below are guidelines for what makes a good PowerShell Gallery package, what optional Manifest settings are most important, improving your code with feedback from initial reviewers and [Powershell Script Analyzer](https://aka.ms/psscriptanalyzer), versioning your module, documentation, tests and examples for how to use what you have shared.</span></span> <span data-ttu-id="f5b28-108">Grande parte desta documentação segue as diretrizes para publicar [módulos de recursos de DSC de alta qualidade](https://github.com/PowerShell/DscResources/blob/master/HighQualityModuleGuidelines.md).</span><span class="sxs-lookup"><span data-stu-id="f5b28-108">Much of this documentation follows the guidelines for publishing [High Quality DSC Resource Modules](https://github.com/PowerShell/DscResources/blob/master/HighQualityModuleGuidelines.md).</span></span>

<span data-ttu-id="f5b28-109">Para obter a mecânica de publicação de um pacote no Galeria do PowerShell, consulte [criando e publicando um pacote](/powershell/gallery/how-to/publishing-packages/publishing-a-package).</span><span class="sxs-lookup"><span data-stu-id="f5b28-109">For the mechanics of publishing a package to the PowerShell Gallery, see [Creating and Publishing a Package](/powershell/gallery/how-to/publishing-packages/publishing-a-package).</span></span>

<span data-ttu-id="f5b28-110">Comentários sobre essas diretrizes são bem-vindos.</span><span class="sxs-lookup"><span data-stu-id="f5b28-110">Feedback on these guidelines is welcomed.</span></span>
<span data-ttu-id="f5b28-111">Se você tiver comentários, abra problemas em nosso repositório de [documentação do GitHub](https://github.com/powershell/powershell-docs/issues).</span><span class="sxs-lookup"><span data-stu-id="f5b28-111">If you do have feedback, please open issues in our [GitHub documentation repository](https://github.com/powershell/powershell-docs/issues).</span></span>

## <a name="best-practices-for-publishing-packages"></a><span data-ttu-id="f5b28-112">Práticas recomendadas para publicação de pacotes</span><span class="sxs-lookup"><span data-stu-id="f5b28-112">Best practices for publishing packages</span></span>

<span data-ttu-id="f5b28-113">As seguintes práticas recomendadas são o que os usuários de Galeria do PowerShell itens dizem são importantes e estão listados em ordem de prioridade nominal.</span><span class="sxs-lookup"><span data-stu-id="f5b28-113">The following best practices are what the users of PowerShell Gallery items say is important, and are listed in nominal priority order.</span></span> <span data-ttu-id="f5b28-114">Os pacotes que seguem essas diretrizes têm muito mais probabilidade de serem baixados e adotados por outras pessoas.</span><span class="sxs-lookup"><span data-stu-id="f5b28-114">Packages that follow these guidelines are far more likely to be downloaded and adopted by others.</span></span>

- <span data-ttu-id="f5b28-115">Usar PSScriptAnalyzer</span><span class="sxs-lookup"><span data-stu-id="f5b28-115">Use PSScriptAnalyzer</span></span>
- <span data-ttu-id="f5b28-116">Incluir documentação e exemplos</span><span class="sxs-lookup"><span data-stu-id="f5b28-116">Include documentation and examples</span></span>
- <span data-ttu-id="f5b28-117">Responder a comentários</span><span class="sxs-lookup"><span data-stu-id="f5b28-117">Be responsive to feedback</span></span>
- <span data-ttu-id="f5b28-118">Fornecer módulos em vez de scripts</span><span class="sxs-lookup"><span data-stu-id="f5b28-118">Provide modules rather than scripts</span></span>
- <span data-ttu-id="f5b28-119">Fornecer links para um site do projeto</span><span class="sxs-lookup"><span data-stu-id="f5b28-119">Provide links to a project site</span></span>
- <span data-ttu-id="f5b28-120">Marcar seu pacote com as PSEdition e plataformas compatíveis</span><span class="sxs-lookup"><span data-stu-id="f5b28-120">Tag your package with the compatible PSEdition(s) and platforms</span></span>
- <span data-ttu-id="f5b28-121">Incluir testes com seus módulos</span><span class="sxs-lookup"><span data-stu-id="f5b28-121">Include tests with your modules</span></span>
- <span data-ttu-id="f5b28-122">Incluir e/ou vincular aos termos de licença</span><span class="sxs-lookup"><span data-stu-id="f5b28-122">Include and/or link to license terms</span></span>
- <span data-ttu-id="f5b28-123">Assinar seu código</span><span class="sxs-lookup"><span data-stu-id="f5b28-123">Sign your code</span></span>
- <span data-ttu-id="f5b28-124">Siga as diretrizes de [SemVer](https://semver.org/) para controle de versão</span><span class="sxs-lookup"><span data-stu-id="f5b28-124">Follow [SemVer](https://semver.org/) guidelines for versioning</span></span>
- <span data-ttu-id="f5b28-125">Use marcas comuns, conforme documentado em marcas de Galeria do PowerShell comuns</span><span class="sxs-lookup"><span data-stu-id="f5b28-125">Use common tags, as documented in Common PowerShell Gallery tags</span></span>
- <span data-ttu-id="f5b28-126">Testar a publicação usando um repositório local</span><span class="sxs-lookup"><span data-stu-id="f5b28-126">Test publishing using a local repository</span></span>
- <span data-ttu-id="f5b28-127">Usar o PowerShellGet para publicar</span><span class="sxs-lookup"><span data-stu-id="f5b28-127">Use PowerShellGet to publish</span></span>

<span data-ttu-id="f5b28-128">Cada um deles é abordado brevemente nas seções a seguir.</span><span class="sxs-lookup"><span data-stu-id="f5b28-128">Each of these is covered briefly in the sections below.</span></span>

## <a name="use-psscriptanalyzer"></a><span data-ttu-id="f5b28-129">Usar PSScriptAnalyzer</span><span class="sxs-lookup"><span data-stu-id="f5b28-129">Use PSScriptAnalyzer</span></span>

<span data-ttu-id="f5b28-130">[PSScriptAnalyzer](https://www.powershellgallery.com/packages/PSScriptAnalyzer) é uma ferramenta de análise de código estático gratuita que funciona no código do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f5b28-130">[PSScriptAnalyzer](https://www.powershellgallery.com/packages/PSScriptAnalyzer) is a free static code analysis tool that works on PowerShell code.</span></span> <span data-ttu-id="f5b28-131">O **PSScriptAnalyzer** identificará os problemas mais comuns vistos no código do PowerShell e, muitas vezes, uma recomendação de como corrigir o problema.</span><span class="sxs-lookup"><span data-stu-id="f5b28-131">**PSScriptAnalyzer** will identify the most common issues seen in PowerShell code, and often a recommendation for how to fix the issue.</span></span> <span data-ttu-id="f5b28-132">A ferramenta é fácil de usar e categoriza os problemas como erros (grave, deve ser resolvido), aviso (precisa ser revisado e deve ser resolvido) e informações (vale a pena verificar as práticas recomendadas).</span><span class="sxs-lookup"><span data-stu-id="f5b28-132">The tool is easy to use, and categorizes the issues as Errors (severe, must be addressed), Warning (need to be reviewed and should be addressed), and Information (worth checking out for best practices).</span></span> <span data-ttu-id="f5b28-133">Todos os pacotes publicados no Galeria do PowerShell serão verificados usando **PSScriptAnalyzer**e todos os erros serão relatados para o proprietário e deverão ser resolvidos.</span><span class="sxs-lookup"><span data-stu-id="f5b28-133">All packages published to the PowerShell Gallery will be scanned using **PSScriptAnalyzer**, and any errors will be reported back to the owner and must be addressed.</span></span>

<span data-ttu-id="f5b28-134">A prática recomendada é executar `Invoke-ScriptAnalyzer` com `-Recurse` e `-Severity` aviso.</span><span class="sxs-lookup"><span data-stu-id="f5b28-134">The best practice is to run `Invoke-ScriptAnalyzer` with `-Recurse` and `-Severity` Warning.</span></span>

<span data-ttu-id="f5b28-135">Examine os resultados e verifique se:</span><span class="sxs-lookup"><span data-stu-id="f5b28-135">Review the results, and ensure that:</span></span>

- <span data-ttu-id="f5b28-136">Todos os erros são corrigidos ou abordados na sua documentação.</span><span class="sxs-lookup"><span data-stu-id="f5b28-136">All Errors are corrected or addressed in your documentation.</span></span>
- <span data-ttu-id="f5b28-137">Todos os avisos são revisados e abordados quando aplicável.</span><span class="sxs-lookup"><span data-stu-id="f5b28-137">All Warnings are reviewed, and addressed where applicable.</span></span>

<span data-ttu-id="f5b28-138">Os usuários que adquirem pacotes da Galeria do PowerShell são altamente incentivados a executar **PSScriptAnalyzer** e avaliar todos os erros e avisos.</span><span class="sxs-lookup"><span data-stu-id="f5b28-138">Users who acquire packages from the PowerShell Gallery are strongly encouraged to run **PSScriptAnalyzer** and evaluate all Errors and Warnings.</span></span> <span data-ttu-id="f5b28-139">É muito provável que os usuários entrem em contato com os proprietários do pacote se perceberem que há um erro relatado pelo **PSScriptAnalyzer**.</span><span class="sxs-lookup"><span data-stu-id="f5b28-139">Users are very likely to contact package owners if they see that there's an error reported by **PSScriptAnalyzer**.</span></span> <span data-ttu-id="f5b28-140">Se houver um motivo convincente para o seu pacote manter o código sinalizado como um erro, adicione essas informações à sua documentação para evitar ter que responder à mesma pergunta muitas vezes.</span><span class="sxs-lookup"><span data-stu-id="f5b28-140">If there's a compelling reason for your package to keep code that is flagged as an error, add that information to your documentation to avoid having to answer the same question many times.</span></span>

## <a name="include-documentation-and-examples"></a><span data-ttu-id="f5b28-141">Incluir documentação e exemplos</span><span class="sxs-lookup"><span data-stu-id="f5b28-141">Include documentation and examples</span></span>

<span data-ttu-id="f5b28-142">A documentação e os exemplos são a melhor maneira de garantir que os usuários possam tirar proveito de qualquer código compartilhado.</span><span class="sxs-lookup"><span data-stu-id="f5b28-142">Documentation and examples are the best way to ensure users can take advantage of any shared code.</span></span>

<span data-ttu-id="f5b28-143">A documentação é a coisa mais útil para incluir em pacotes publicados no Galeria do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f5b28-143">Documentation is the most helpful thing to include in packages published to the PowerShell Gallery.</span></span>
<span data-ttu-id="f5b28-144">Os usuários geralmente ignoram os pacotes sem documentação, pois a alternativa é ler o código para entender o que é o pacote e como usá-lo.</span><span class="sxs-lookup"><span data-stu-id="f5b28-144">Users will generally bypass packages without documentation, as the alternative is to read the code to understand what the package is and how to use it.</span></span> <span data-ttu-id="f5b28-145">Há vários artigos disponíveis sobre como fornecer documentação com pacotes do PowerShell, incluindo:</span><span class="sxs-lookup"><span data-stu-id="f5b28-145">There are several articles available about how to provide documentation with PowerShell packages, including:</span></span>

- <span data-ttu-id="f5b28-146">Diretrizes para fornecer ajuda sobre [como escrever a ajuda do cmdlet](https://go.microsoft.com/fwlink/?LinkID=123415).</span><span class="sxs-lookup"><span data-stu-id="f5b28-146">Guidelines for providing help are in [How to Write Cmdlet Help](https://go.microsoft.com/fwlink/?LinkID=123415).</span></span>
- <span data-ttu-id="f5b28-147">Criando a ajuda do cmdlet, que é a melhor abordagem para qualquer script, função ou cmdlet do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f5b28-147">Creating cmdlet help, which is the best approach for any PowerShell script, function, or cmdlet.</span></span>
  <span data-ttu-id="f5b28-148">Para obter informações sobre como criar a ajuda do cmdlet, comece com [como escrever a ajuda do cmdlet](https://go.microsoft.com/fwlink/?LinkID=123415).</span><span class="sxs-lookup"><span data-stu-id="f5b28-148">For information about how to create cmdlet help, start with [How to Write Cmdlet Help](https://go.microsoft.com/fwlink/?LinkID=123415).</span></span>
  <span data-ttu-id="f5b28-149">Para adicionar ajuda em um script, consulte [a ajuda baseada em comentários](/powershell/module/microsoft.powershell.core/about/about_comment_based_help).</span><span class="sxs-lookup"><span data-stu-id="f5b28-149">To add help within a script, see [About Comment Based Help](/powershell/module/microsoft.powershell.core/about/about_comment_based_help).</span></span>
- <span data-ttu-id="f5b28-150">Muitos módulos também incluem documentação em formato de texto, como arquivos de redução.</span><span class="sxs-lookup"><span data-stu-id="f5b28-150">Many modules also include documentation in text format, such as MarkDown files.</span></span> <span data-ttu-id="f5b28-151">Isso pode ser particularmente útil quando há um site de projeto no GitHub, onde a redução é um formato muito usado.</span><span class="sxs-lookup"><span data-stu-id="f5b28-151">This can be particularly helpful when there's a project site in GitHub, where Markdown is a heavily used format.</span></span> <span data-ttu-id="f5b28-152">A prática recomendada é usar a [redução do tipo GitHub](https://help.github.com/categories/writing-on-github/).</span><span class="sxs-lookup"><span data-stu-id="f5b28-152">The best practice is to use [GitHub-flavored Markdown](https://help.github.com/categories/writing-on-github/).</span></span>

<span data-ttu-id="f5b28-153">Os exemplos mostram aos usuários como o pacote deve ser usado.</span><span class="sxs-lookup"><span data-stu-id="f5b28-153">Examples show users how the package is intended to be used.</span></span> <span data-ttu-id="f5b28-154">Muitos desenvolvedores dizem que eles analisam exemplos antes da documentação para entender como usar algo.</span><span class="sxs-lookup"><span data-stu-id="f5b28-154">Many developers will say that they look at examples before documentation to understand how to use something.</span></span> <span data-ttu-id="f5b28-155">Os melhores tipos de exemplos mostram o uso básico, além de um caso de uso realista simulado, e o código é bem comentado.</span><span class="sxs-lookup"><span data-stu-id="f5b28-155">The best types of examples show basic use, plus a simulated realistic use case, and the code is well-commented.</span></span> <span data-ttu-id="f5b28-156">Exemplos de módulos publicados no Galeria do PowerShell devem estar em uma pasta de exemplos na raiz do módulo.</span><span class="sxs-lookup"><span data-stu-id="f5b28-156">Examples for modules published to the PowerShell Gallery should be in an Examples folder under the module root.</span></span>

<span data-ttu-id="f5b28-157">Um bom padrão para exemplos pode ser encontrado no [módulo PSDscResource](https://www.powershellgallery.com/packages/PSDscResources) na `Examples\RegistryResource` pasta.</span><span class="sxs-lookup"><span data-stu-id="f5b28-157">A good pattern for examples can be found in the [PSDscResource module](https://www.powershellgallery.com/packages/PSDscResources) under the `Examples\RegistryResource` folder.</span></span> <span data-ttu-id="f5b28-158">Há quatro casos de uso de exemplo com uma breve descrição na parte superior de cada arquivo que documenta o que está sendo demonstrado.</span><span class="sxs-lookup"><span data-stu-id="f5b28-158">There are four sample use cases with a brief description at the top of each file that documents what is being demonstrated.</span></span>

## <a name="manage-dependencies"></a><span data-ttu-id="f5b28-159">Gerenciar dependências</span><span class="sxs-lookup"><span data-stu-id="f5b28-159">Manage Dependencies</span></span>

<span data-ttu-id="f5b28-160">É importante especificar os módulos dos quais seu módulo depende no manifesto do módulo.</span><span class="sxs-lookup"><span data-stu-id="f5b28-160">It's important to specify modules that your module is dependent on in the Module Manifest.</span></span> <span data-ttu-id="f5b28-161">Isso permite que o usuário final não precise se preocupar com a instalação das versões apropriadas dos módulos nos quais sua dependência se baseia.</span><span class="sxs-lookup"><span data-stu-id="f5b28-161">This allows the end user to not have to worry about installing the proper versions of modules that yours take a dependency on.</span></span> <span data-ttu-id="f5b28-162">Para especificar módulos dependentes, você deve usar o campo módulo necessário no manifesto do módulo.</span><span class="sxs-lookup"><span data-stu-id="f5b28-162">To specify dependent modules, you should use the required module field in the module manifest.</span></span> <span data-ttu-id="f5b28-163">Isso carregará todos os módulos listados no ambiente global antes de importar seu módulo, a menos que eles já tenham sido carregados.</span><span class="sxs-lookup"><span data-stu-id="f5b28-163">This will load any listed modules into the global environment prior to importing your module unless they've already been loaded.</span></span> <span data-ttu-id="f5b28-164">Por exemplo, alguns módulos podem já estar carregados por um módulo diferente.</span><span class="sxs-lookup"><span data-stu-id="f5b28-164">For example, some modules may already be loaded by a different module.</span></span> <span data-ttu-id="f5b28-165">Também é possível especificar uma versão específica para carregar usando o campo **RequiredVersion** em vez do campo **ModuleVersion** .</span><span class="sxs-lookup"><span data-stu-id="f5b28-165">It's also possible to specify a specific version to load using the **RequiredVersion** field rather than the **ModuleVersion** field.</span></span> <span data-ttu-id="f5b28-166">Ao usar o **ModuleVersion**, ele carregará a versão mais recente disponível com, no mínimo, a versão especificada.</span><span class="sxs-lookup"><span data-stu-id="f5b28-166">When using **ModuleVersion**, it will load the newest version available with a minimum of the version specified.</span></span> <span data-ttu-id="f5b28-167">Quando não estiver usando o campo **RequiredVersion** , para especificar uma versão específica, é importante monitorar as atualizações de versão para o módulo necessário.</span><span class="sxs-lookup"><span data-stu-id="f5b28-167">When not using the **RequiredVersion** field, to specify a specific version it's important to monitor version updates to the required module.</span></span> <span data-ttu-id="f5b28-168">É especialmente importante estar ciente de quaisquer alterações significativas que possam afetar a experiência do usuário com seu módulo.</span><span class="sxs-lookup"><span data-stu-id="f5b28-168">It's especially important to be aware of any breaking changes that could affect the user experience with your module.</span></span>

```powershell
Example: RequiredModules = @(@{ModuleName="myDependentModule"; ModuleVersion="2.0"; Guid="cfc45206-1e49-459d-a8ad-5b571ef94857"})

Example: RequiredModules = @(@{ModuleName="myDependentModule"; RequiredVersion="1.5"; Guid="cfc45206-1e49-459d-a8ad-5b571ef94857"})
```

## <a name="respond-to-feedback"></a><span data-ttu-id="f5b28-169">Responder a comentários</span><span class="sxs-lookup"><span data-stu-id="f5b28-169">Respond to feedback</span></span>

<span data-ttu-id="f5b28-170">Os proprietários do pacote que respondem corretamente aos comentários são altamente valorizados pela Comunidade.</span><span class="sxs-lookup"><span data-stu-id="f5b28-170">Package owners who respond properly to feedback are highly valued by the community.</span></span> <span data-ttu-id="f5b28-171">Os usuários que fornecem comentários de construtivas são importantes para responder, pois eles estão interessados suficientes no pacote para tentar ajudá-lo a melhorá-lo.</span><span class="sxs-lookup"><span data-stu-id="f5b28-171">Users who provide constructive feedback are important to respond to, as they're interested enough in the package to try to help improve it.</span></span>

<span data-ttu-id="f5b28-172">Há dois métodos de comentários disponíveis no Galeria do PowerShell:</span><span class="sxs-lookup"><span data-stu-id="f5b28-172">There are two feedback methods available in the PowerShell Gallery:</span></span>

- <span data-ttu-id="f5b28-173">Proprietário do contato: Isso permite que um usuário envie um email para o proprietário do pacote.</span><span class="sxs-lookup"><span data-stu-id="f5b28-173">Contact Owner: This allows a user to send an email to the package owner.</span></span> <span data-ttu-id="f5b28-174">Como proprietário do pacote, é importante monitorar o endereço de email usado com os pacotes de Galeria do PowerShell e responder a problemas que são gerados.</span><span class="sxs-lookup"><span data-stu-id="f5b28-174">As a package owner, is important to monitor the email address used with the PowerShell Gallery packages, and respond to issues that are raised.</span></span> <span data-ttu-id="f5b28-175">A desvantagem desse método é que apenas o usuário e o proprietário verão a comunicação, de modo que o proprietário talvez tenha que responder à mesma pergunta muitas vezes.</span><span class="sxs-lookup"><span data-stu-id="f5b28-175">The one disadvantage to this method is that only the user and owner will ever see the communication, so the owner may have to answer the same question many times.</span></span>
- <span data-ttu-id="f5b28-176">Feitos Na parte inferior da página pacote há um campo de **Comentário** .</span><span class="sxs-lookup"><span data-stu-id="f5b28-176">Comments: At the bottom of the package page is a **Comment** field.</span></span> <span data-ttu-id="f5b28-177">A vantagem desse sistema é que outros usuários podem ver os comentários e as respostas, o que reduz o número de vezes que uma única pergunta deve ser respondida.</span><span class="sxs-lookup"><span data-stu-id="f5b28-177">The advantage to this system is that other users can see the comments and responses, which reduces the number of times any single question must be answered.</span></span> <span data-ttu-id="f5b28-178">Como proprietário do pacote, é altamente recomendável que você siga os comentários feitos para cada pacote.</span><span class="sxs-lookup"><span data-stu-id="f5b28-178">As a package owner, it's strongly recommended that you follow the comments made for each package.</span></span> <span data-ttu-id="f5b28-179">Consulte [fornecendo comentários por meio de mídia social ou comentários](../how-to/working-with-packages/social-media-feedback.md) para obter detalhes sobre como fazer isso.</span><span class="sxs-lookup"><span data-stu-id="f5b28-179">See [Providing Feedback via Social Media or Comments](../how-to/working-with-packages/social-media-feedback.md) for details on how to do that.</span></span>

<span data-ttu-id="f5b28-180">Os proprietários que respondem a crítica de comentários são apreciados pela Comunidade.</span><span class="sxs-lookup"><span data-stu-id="f5b28-180">Owners who respond to feedback constructively are appreciated by the community.</span></span> <span data-ttu-id="f5b28-181">Use a oportunidade no relatório para solicitar mais informações.</span><span class="sxs-lookup"><span data-stu-id="f5b28-181">Use the opportunity in the report to request more information.</span></span> <span data-ttu-id="f5b28-182">Se necessário, forneça uma solução alternativa ou identifique se uma atualização corrige um problema.</span><span class="sxs-lookup"><span data-stu-id="f5b28-182">If needed, provide a workaround, or identify if an update fixes a problem.</span></span>

<span data-ttu-id="f5b28-183">Se houver um comportamento inadequado observado de qualquer um desses canais de comunicação, use o recurso relatar abuso do Galeria do PowerShell para entrar em contato com os administradores da galeria.</span><span class="sxs-lookup"><span data-stu-id="f5b28-183">If there's inappropriate behavior observed from either of these communication channels, use the Report Abuse feature of the PowerShell Gallery to contact the Gallery Administrators.</span></span>

## <a name="modules-versus-scripts"></a><span data-ttu-id="f5b28-184">Módulos versus scripts</span><span class="sxs-lookup"><span data-stu-id="f5b28-184">Modules Versus Scripts</span></span>

<span data-ttu-id="f5b28-185">Compartilhar um script com outros usuários é ótimo e fornece aos outros exemplos de como solucionar os problemas que eles podem ter.</span><span class="sxs-lookup"><span data-stu-id="f5b28-185">Sharing a script with other users is great, and provides others with examples of how to solve problems they may have.</span></span> <span data-ttu-id="f5b28-186">O problema é que os scripts na Galeria do PowerShell são arquivos únicos sem documentação, exemplos e testes separados.</span><span class="sxs-lookup"><span data-stu-id="f5b28-186">The issue is that scripts in the PowerShell Gallery are single files without separate documentation, examples, and tests.</span></span>

<span data-ttu-id="f5b28-187">Os módulos do PowerShell têm uma estrutura de pastas que permite que várias pastas e arquivos sejam incluídos no pacote.</span><span class="sxs-lookup"><span data-stu-id="f5b28-187">PowerShell Modules have a folder structure that allows multiple folders and files to be included with the package.</span></span> <span data-ttu-id="f5b28-188">A estrutura do módulo permite incluir os outros pacotes que listamos como práticas recomendadas: ajuda do cmdlet, documentação, exemplos e testes.</span><span class="sxs-lookup"><span data-stu-id="f5b28-188">The module structure enables including the other packages we list as best practices: cmdlet help, documentation, examples, and tests.</span></span> <span data-ttu-id="f5b28-189">A maior desvantagem é que um script dentro de um módulo deve ser exposto e usado como uma função.</span><span class="sxs-lookup"><span data-stu-id="f5b28-189">The biggest disadvantage is that a script inside a module must be exposed and used as a function.</span></span> <span data-ttu-id="f5b28-190">Para obter informações sobre como criar um módulo, consulte [escrevendo um módulo do Windows PowerShell](/powershell/developer/module/writing-a-windows-powershell-module).</span><span class="sxs-lookup"><span data-stu-id="f5b28-190">For information on how to create a module, see [Writing a Windows PowerShell Module](/powershell/developer/module/writing-a-windows-powershell-module).</span></span>

<span data-ttu-id="f5b28-191">Há situações em que um script fornece uma experiência melhor para o usuário, especialmente com configurações de DSC.</span><span class="sxs-lookup"><span data-stu-id="f5b28-191">There are situations where a script provides a better experience for the user, particularly with DSC configurations.</span></span> <span data-ttu-id="f5b28-192">A prática recomendada para as configurações de DSC é publicar a configuração como um script com um módulo que o acompanha, que contém documentos, exemplos e testes.</span><span class="sxs-lookup"><span data-stu-id="f5b28-192">The best practice for DSC configurations is to publish the configuration as a script with an accompanying module that contains the docs, examples, and tests.</span></span> <span data-ttu-id="f5b28-193">O script lista o módulo que o acompanha `RequiredModules = @(Name of the Module)`usando.</span><span class="sxs-lookup"><span data-stu-id="f5b28-193">The script lists the accompanying module using `RequiredModules = @(Name of the Module)`.</span></span> <span data-ttu-id="f5b28-194">Essa abordagem pode ser usada com qualquer script.</span><span class="sxs-lookup"><span data-stu-id="f5b28-194">This approach can be used with any script.</span></span>

<span data-ttu-id="f5b28-195">Os scripts autônomos que seguem as outras práticas recomendadas fornecem valor real para outros usuários.</span><span class="sxs-lookup"><span data-stu-id="f5b28-195">Standalone scripts that follow the other best practices provide real value to other users.</span></span> <span data-ttu-id="f5b28-196">O fornecimento de documentação baseada em comentários e um link para um site de projeto são altamente recomendados ao publicar um script no Galeria do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f5b28-196">Providing comment-based documentation and a link to a Project Site are highly recommended when publishing a script to the PowerShell Gallery.</span></span>

## <a name="provide-a-link-to-a-project-site"></a><span data-ttu-id="f5b28-197">Forneça um link para um site do projeto</span><span class="sxs-lookup"><span data-stu-id="f5b28-197">Provide a link to a project site</span></span>

<span data-ttu-id="f5b28-198">Um site do projeto é onde um Publicador pode interagir diretamente com os usuários de seus pacotes de Galeria do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f5b28-198">A Project Site is where a publisher can interact directly with the users of their PowerShell Gallery packages.</span></span> <span data-ttu-id="f5b28-199">Os usuários preferem pacotes que fornecem isso, pois eles permitem obter informações sobre o pacote mais facilmente.</span><span class="sxs-lookup"><span data-stu-id="f5b28-199">Users prefer packages that provide this, as it allows them to get information about the package more easily.</span></span> <span data-ttu-id="f5b28-200">Muitos pacotes na Galeria do PowerShell são desenvolvidos no GitHub, outros são fornecidos por organizações com uma presença Web dedicada.</span><span class="sxs-lookup"><span data-stu-id="f5b28-200">Many packages in the PowerShell Gallery are developed in GitHub, others are provided by organizations with a dedicated web presence.</span></span> <span data-ttu-id="f5b28-201">Cada um deles pode ser considerado um site do projeto.</span><span class="sxs-lookup"><span data-stu-id="f5b28-201">Each of these can be considered a project site.</span></span>

<span data-ttu-id="f5b28-202">A adição de um link é feita com a inclusão de ProjectURI na seção PSData do manifesto da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="f5b28-202">Adding a link is done by including ProjectURI in the PSData section of the manifest as follows:</span></span>

        # A URL to the main website for this project.
        ProjectUri = 'https://github.com/powershell/powershell'

<span data-ttu-id="f5b28-203">Quando um ProjectURI é fornecido, o Galeria do PowerShell incluirá um link para o site do projeto no lado esquerdo da página do pacote.</span><span class="sxs-lookup"><span data-stu-id="f5b28-203">When a ProjectURI is provided, the PowerShell Gallery will include a link to the Project Site on the left side of the package page.</span></span>

## <a name="tag-your-package-with-the-compatible-pseditions-and-platforms"></a><span data-ttu-id="f5b28-204">Marcar seu pacote com as PSEdition e plataformas compatíveis</span><span class="sxs-lookup"><span data-stu-id="f5b28-204">Tag your package with the compatible PSEdition(s) and platforms</span></span>

<span data-ttu-id="f5b28-205">Use as seguintes marcas para demonstrar aos usuários quais pacotes funcionarão bem com seu ambiente:</span><span class="sxs-lookup"><span data-stu-id="f5b28-205">Use the following tags to demonstrate to users which packages will work well with their environment:</span></span>

- <span data-ttu-id="f5b28-206">PSEdition_Desktop: Pacotes que são compatíveis com o Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="f5b28-206">PSEdition_Desktop: Packages that are compatible with Windows PowerShell</span></span>
- <span data-ttu-id="f5b28-207">PSEdition_Core: Pacotes que são compatíveis com o PowerShell Core</span><span class="sxs-lookup"><span data-stu-id="f5b28-207">PSEdition_Core: Packages that are compatible with PowerShell Core</span></span>
- <span data-ttu-id="f5b28-208">Windows: Pacotes que são compatíveis com o sistema operacional Windows</span><span class="sxs-lookup"><span data-stu-id="f5b28-208">Windows: Packages that are compatible with the Windows Operating System</span></span>
- <span data-ttu-id="f5b28-209">Linux: Pacotes compatíveis com sistemas operacionais Linux</span><span class="sxs-lookup"><span data-stu-id="f5b28-209">Linux: Packages that are compatible with Linux Operating Systems</span></span>
- <span data-ttu-id="f5b28-210">MacOS Pacotes que são compatíveis com o sistema operacional Mac</span><span class="sxs-lookup"><span data-stu-id="f5b28-210">MacOS: Packages that are compatible with the Mac Operating System</span></span>

<span data-ttu-id="f5b28-211">Ao marcar seu pacote com as plataformas compatíveis, ele será incluído nos filtros de pesquisa da galeria no painel esquerdo dos resultados da pesquisa.</span><span class="sxs-lookup"><span data-stu-id="f5b28-211">By tagging your package with the compatible platform(s) it will be included in the Gallery search filters on the left pane of the search results.</span></span> <span data-ttu-id="f5b28-212">Se você hospedar seu pacote no GitHub, ao marcar seu pacote, você também poderá tirar proveito de nossa blindagem](https://img.shields.io/powershellgallery/p/CosmosDB.svg)de![compatibilidade do [Galeria do PowerShell Compatibility Shields](https://img.shields.io/powershellgallery/p/:packageName.svg)
.</span><span class="sxs-lookup"><span data-stu-id="f5b28-212">If you host your package on GitHub, when you tag your package, you can also take advantage of our [PowerShell Gallery compatibility shields](https://img.shields.io/powershellgallery/p/:packageName.svg)
![compatibility shield](https://img.shields.io/powershellgallery/p/CosmosDB.svg).</span></span>

## <a name="include-tests"></a><span data-ttu-id="f5b28-213">Incluir testes</span><span class="sxs-lookup"><span data-stu-id="f5b28-213">Include tests</span></span>

<span data-ttu-id="f5b28-214">Incluir testes com código de software livre é importante para os usuários, pois ele fornece garantia sobre o que você valida e fornece informações sobre como o seu código funciona.</span><span class="sxs-lookup"><span data-stu-id="f5b28-214">Including tests with open-source code is important to users, as it gives them assurance about what you validate, and provides information on how your code works.</span></span> <span data-ttu-id="f5b28-215">Ele também permite aos usuários garantir que eles não quebrem sua funcionalidade original se modificarem seu código para se ajustarem ao seu ambiente.</span><span class="sxs-lookup"><span data-stu-id="f5b28-215">It also allows users to ensure they don't break your original functionality if they modify your code to fit their environment.</span></span>

<span data-ttu-id="f5b28-216">É altamente recomendável que os testes sejam escritos para tirar proveito da estrutura de teste do Pester, que foi projetada especificamente para o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f5b28-216">It's strongly recommended that tests be written to take advantage of the Pester test framework, which has been designed specifically for PowerShell.</span></span> <span data-ttu-id="f5b28-217">O Pester está disponível no [GitHub](https://github.com/Pester/Pester), o [Galeria do PowerShell](https://www.powershellgallery.com/packages/Pester/)e é fornecido no Windows 10, no Windows Server 2016, no WMF 5,0 e no WMF 5,1.</span><span class="sxs-lookup"><span data-stu-id="f5b28-217">Pester is available in [GitHub](https://github.com/Pester/Pester), the [PowerShell Gallery](https://www.powershellgallery.com/packages/Pester/), and ships in Windows 10, Windows Server 2016, WMF 5.0 and WMF 5.1.</span></span>

<span data-ttu-id="f5b28-218">O [site do projeto Pester no GitHub](https://github.com/Pester/Pester) inclui uma boa documentação sobre como escrever testes Pester, desde a introdução até as práticas recomendadas.</span><span class="sxs-lookup"><span data-stu-id="f5b28-218">The [Pester project site in GitHub](https://github.com/Pester/Pester) includes good documentation on writing Pester tests, from getting started to best practices.</span></span>

<span data-ttu-id="f5b28-219">Os destinos para cobertura de teste são chamados na [documentação do módulo de recursos de alta qualidade](https://github.com/PowerShell/DscResources/blob/master/HighQualityModuleGuidelines.md), com 70% de cobertura de código de teste de unidade recomendado.</span><span class="sxs-lookup"><span data-stu-id="f5b28-219">The targets for test coverage are called out in the [High Quality Resource Module documentation](https://github.com/PowerShell/DscResources/blob/master/HighQualityModuleGuidelines.md), with 70% unit test code coverage recommended.</span></span>

## <a name="include-andor-link-to-license-terms"></a><span data-ttu-id="f5b28-220">Incluir e/ou vincular aos termos de licença</span><span class="sxs-lookup"><span data-stu-id="f5b28-220">Include and/or link to license terms</span></span>

<span data-ttu-id="f5b28-221">Todos os pacotes publicados no Galeria do PowerShell devem especificar os termos de licença ou ser associados à licença incluída nos [termos de uso](https://www.powershellgallery.com/policies/Terms) no **anexo A**. A melhor abordagem para especificar uma licença diferente é fornecer um link para a licença usando o **LicenseURI** em **PSData**.</span><span class="sxs-lookup"><span data-stu-id="f5b28-221">All packages published to the PowerShell Gallery must specify the license terms, or be bound by the license included in the [Terms of Use](https://www.powershellgallery.com/policies/Terms) under **Exhibit A**. The best approach to specifying a different license is to provide a link to the license using the **LicenseURI** in **PSData**.</span></span> <span data-ttu-id="f5b28-222">Para obter mais informações, consulte [manifesto de pacotes e interface do usuário da Galeria](package-manifest-affecting-ui.md).</span><span class="sxs-lookup"><span data-stu-id="f5b28-222">For more information, see [Packages manifest and Gallery UI](package-manifest-affecting-ui.md).</span></span>

```powershell
PrivateData = @{
    PSData = @{

        # Tags applied to this module. These help with module discovery in online galleries.
        Tags = @('.net','acl','active-directory')

        # A URL to the license for this module.
        LicenseUri = 'http://www.apache.org/licenses/LICENSE-2.0'
```

## <a name="sign-your-code"></a><span data-ttu-id="f5b28-223">Assinar seu código</span><span class="sxs-lookup"><span data-stu-id="f5b28-223">Sign your code</span></span>

<span data-ttu-id="f5b28-224">A assinatura de código fornece aos usuários o nível mais alto de garantia para quem publicou o pacote e que a cópia do código adquirido é exatamente o que o Publicador liberou.</span><span class="sxs-lookup"><span data-stu-id="f5b28-224">Code signing provides users with the highest level of assurance for who published the package, and that the copy of the code they acquire is exactly what the publisher released.</span></span> <span data-ttu-id="f5b28-225">Para saber mais sobre a assinatura de código em geral, consulte [introdução à assinatura de código](/previous-versions/windows/internet-explorer/ie-developer/platform-apis/ms537361(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="f5b28-225">To learn more about code signing generally, see [Introduction to Code Signing](/previous-versions/windows/internet-explorer/ie-developer/platform-apis/ms537361(v=vs.85)).</span></span>
<span data-ttu-id="f5b28-226">O PowerShell dá suporte à validação da assinatura de código por meio de duas abordagens principais:</span><span class="sxs-lookup"><span data-stu-id="f5b28-226">PowerShell supports validation of code signing through two primary approaches:</span></span>

- <span data-ttu-id="f5b28-227">Assinando arquivos de script</span><span class="sxs-lookup"><span data-stu-id="f5b28-227">Signing script files</span></span>
- <span data-ttu-id="f5b28-228">Assinatura de catálogo de um módulo</span><span class="sxs-lookup"><span data-stu-id="f5b28-228">Catalog signing a module</span></span>

<span data-ttu-id="f5b28-229">A assinatura de arquivos do PowerShell é uma abordagem bem estabelecida para garantir que o código que está sendo executado foi produzido por uma fonte confiável e não foi modificado.</span><span class="sxs-lookup"><span data-stu-id="f5b28-229">Signing PowerShell files is a well-established approach to ensuring that the code being executed was produced by a reliable source, and hasn't been modified.</span></span> <span data-ttu-id="f5b28-230">Detalhes sobre como assinar arquivos de script do PowerShell são abordados no artigo [sobre assinatura](/powershell/module/microsoft.powershell.core/about/about_signing) .</span><span class="sxs-lookup"><span data-stu-id="f5b28-230">Details on how to sign PowerShell script files is covered in the [About Signing](/powershell/module/microsoft.powershell.core/about/about_signing) article.</span></span> <span data-ttu-id="f5b28-231">Em visão geral, uma assinatura pode ser adicionada a `.PS1` qualquer arquivo que o PowerShell valide quando o script é carregado.</span><span class="sxs-lookup"><span data-stu-id="f5b28-231">In overview, a signature can be added to any `.PS1` file that PowerShell validates when the script is loaded.</span></span> <span data-ttu-id="f5b28-232">O PowerShell pode ser restrito usando os cmdlets de [política de execução](/powershell/module/microsoft.powershell.core/about/about_execution_policies) para garantir o uso de scripts assinados.</span><span class="sxs-lookup"><span data-stu-id="f5b28-232">PowerShell can be constrained using the [Execution Policy](/powershell/module/microsoft.powershell.core/about/about_execution_policies) cmdlets to ensure use of signed scripts.</span></span>

<span data-ttu-id="f5b28-233">Os módulos de assinatura de catálogo são um recurso adicionado ao PowerShell na versão 5,1.</span><span class="sxs-lookup"><span data-stu-id="f5b28-233">Catalog signing modules is a feature added to PowerShell in version 5.1.</span></span> <span data-ttu-id="f5b28-234">Como assinar um módulo é abordado no artigo [cmdlets de catálogo](/powershell/wmf/5.1/catalog-cmdlets) .</span><span class="sxs-lookup"><span data-stu-id="f5b28-234">How to sign a module is covered in the [Catalog Cmdlets](/powershell/wmf/5.1/catalog-cmdlets) article.</span></span> <span data-ttu-id="f5b28-235">Em visão geral, a assinatura de catálogo é feita criando um arquivo de catálogo, que contém um valor de hash para cada arquivo no módulo e, em seguida, assinando esse arquivo.</span><span class="sxs-lookup"><span data-stu-id="f5b28-235">In overview, catalog signing is done by creating a catalog file, which contains a hash value for every file in the module, and then signing that file.</span></span>

<span data-ttu-id="f5b28-236">Os cmdlets `Install-Module` **PowerShellGet** `Publish-Module`, `Update-Module` , e verificarão a assinatura para garantir que ele seja válido e, em seguida, confirmar que o valor de hash de cada pacote corresponde ao que está no catálogo.</span><span class="sxs-lookup"><span data-stu-id="f5b28-236">The **PowerShellGet** `Publish-Module`, `Install-Module`, and `Update-Module` cmdlets will check the signature to ensure it's valid, then confirm that the hash value for each package matches what is in the catalog.</span></span> <span data-ttu-id="f5b28-237">`Save-Module`não valida uma assinatura.</span><span class="sxs-lookup"><span data-stu-id="f5b28-237">`Save-Module` doesn't validate a signature.</span></span> <span data-ttu-id="f5b28-238">Se uma versão anterior do módulo estiver instalada no sistema, `Install-Module` o confirmará que a autoridade de assinatura para a nova versão corresponde ao que foi instalado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="f5b28-238">If a previous version of the module is installed on the system, `Install-Module` will confirm that the signing authority for the new version matches what was previously installed.</span></span> <span data-ttu-id="f5b28-239">`Install-Module`e `Update-Module` usará a assinatura em um `.PSD1` arquivo se o pacote não for assinado por catálogo.</span><span class="sxs-lookup"><span data-stu-id="f5b28-239">`Install-Module` and `Update-Module` will use the signature on a `.PSD1` file if the package isn't catalog signed.</span></span> <span data-ttu-id="f5b28-240">A assinatura do catálogo funciona com, mas não substitui arquivos de script de assinatura.</span><span class="sxs-lookup"><span data-stu-id="f5b28-240">Catalog signing works with, but doesn't replace signing script files.</span></span> <span data-ttu-id="f5b28-241">O PowerShell não valida assinaturas de catálogo no tempo de carregamento do módulo.</span><span class="sxs-lookup"><span data-stu-id="f5b28-241">PowerShell doesn't validate catalog signatures at module load time.</span></span>

## <a name="follow-semver-guidelines-for-versioning"></a><span data-ttu-id="f5b28-242">Siga as diretrizes de SemVer para controle de versão</span><span class="sxs-lookup"><span data-stu-id="f5b28-242">Follow SemVer guidelines for versioning</span></span>

<span data-ttu-id="f5b28-243">[SemVer](https://semver.org/) é uma convenção pública que descreve como estruturar e alterar uma versão para permitir uma fácil interpretação das alterações.</span><span class="sxs-lookup"><span data-stu-id="f5b28-243">[SemVer](https://semver.org/) is a public convention that describes how to structure and change a version to allow easy interpretation of changes.</span></span> <span data-ttu-id="f5b28-244">A versão do pacote deve ser incluída nos dados do manifesto.</span><span class="sxs-lookup"><span data-stu-id="f5b28-244">The version for your package must be included in the manifest data.</span></span>

- <span data-ttu-id="f5b28-245">A versão deve ser estruturada como três blocos numéricos separados por pontos, `0.1.1` como `4.11.192`em ou.</span><span class="sxs-lookup"><span data-stu-id="f5b28-245">The version should be structured as three numeric blocks separated by periods, as in `0.1.1` or `4.11.192`.</span></span>
- <span data-ttu-id="f5b28-246">As versões que `0` começam com indicam que o pacote ainda não está pronto para produção e o primeiro número deve `0` começar apenas com se esse for o único número usado.</span><span class="sxs-lookup"><span data-stu-id="f5b28-246">Versions starting with `0` indicate that the package isn't yet production ready, and the first number should only begin with `0` if that's the only number used.</span></span>
- <span data-ttu-id="f5b28-247">As alterações no primeiro número (`1.9.9999` para `2.0.0`) indicam as alterações principais e significativas entre as versões.</span><span class="sxs-lookup"><span data-stu-id="f5b28-247">Changes in the first number (`1.9.9999` to `2.0.0`) indicate major and breaking changes between the versions.</span></span>
- <span data-ttu-id="f5b28-248">As alterações no segundo número (`1.1` para `1.2`) indicam alterações no nível do recurso, como adicionar novos cmdlets a um módulo.</span><span class="sxs-lookup"><span data-stu-id="f5b28-248">Changes to the second number (`1.1` to `1.2`) indicate feature-level changes, such as adding new cmdlets to a module.</span></span>
- <span data-ttu-id="f5b28-249">As alterações no terceiro número indicam alterações não significativas, como novos parâmetros, amostras atualizadas ou novos testes.</span><span class="sxs-lookup"><span data-stu-id="f5b28-249">Changes to the third number indicate non-breaking changes, such as new parameters, updated samples, or new tests.</span></span>
- <span data-ttu-id="f5b28-250">Ao listar versões, o PowerShell classificará as versões como cadeias de caracteres, portanto `1.01.0` , será tratado como maior que. `1.001.0`</span><span class="sxs-lookup"><span data-stu-id="f5b28-250">When listing versions, PowerShell will sort the versions as strings, so `1.01.0` will be treated as greater than `1.001.0`.</span></span>

<span data-ttu-id="f5b28-251">O PowerShell foi criado antes de o SemVer ter sido publicado, portanto, ele fornece suporte para a maioria dos elementos do SemVer, especificamente:</span><span class="sxs-lookup"><span data-stu-id="f5b28-251">PowerShell was created before SemVer was published, so it provides support for most but not all elements of SemVer, specifically:</span></span>

- <span data-ttu-id="f5b28-252">Ele não dá suporte a cadeias de caracteres de pré-lançamento em números de versão.</span><span class="sxs-lookup"><span data-stu-id="f5b28-252">It doesn't support prerelease strings in version numbers.</span></span> <span data-ttu-id="f5b28-253">Isso é útil quando um Publicador deseja fornecer uma versão de visualização de uma nova versão principal depois de fornecer `1.0.0`uma versão.</span><span class="sxs-lookup"><span data-stu-id="f5b28-253">This is useful when a publisher wishes to deliver a preview release of a new major version after providing a version `1.0.0`.</span></span> <span data-ttu-id="f5b28-254">Isso terá suporte em uma versão futura dos cmdlets Galeria do PowerShell e **PowerShellGet** .</span><span class="sxs-lookup"><span data-stu-id="f5b28-254">This will be supported in a future release of the PowerShell Gallery and **PowerShellGet** cmdlets.</span></span>
- <span data-ttu-id="f5b28-255">O PowerShell e o Galeria do PowerShell permitem cadeias de caracteres de versão com 1, 2 e 4 segmentos.</span><span class="sxs-lookup"><span data-stu-id="f5b28-255">PowerShell and the PowerShell Gallery allow version strings with 1, 2, and 4 segments.</span></span> <span data-ttu-id="f5b28-256">Muitos módulos iniciais não seguiram as diretrizes e as versões do produto da Microsoft incluem informações de compilação como um 4º bloco de números ( `5.1.14393.1066`por exemplo).</span><span class="sxs-lookup"><span data-stu-id="f5b28-256">Many early modules did not follow the guidelines, and product releases from Microsoft include build information as a 4th block of numbers (for example `5.1.14393.1066`).</span></span> <span data-ttu-id="f5b28-257">Do ponto de vista do controle de versão, essas diferenças são ignoradas.</span><span class="sxs-lookup"><span data-stu-id="f5b28-257">From a versioning standpoint, these differences are ignored.</span></span>

## <a name="test-using-a-local-repository"></a><span data-ttu-id="f5b28-258">Testar usando um repositório local</span><span class="sxs-lookup"><span data-stu-id="f5b28-258">Test using a local repository</span></span>

<span data-ttu-id="f5b28-259">O Galeria do PowerShell não foi projetado para ser um destino para testar o processo de publicação.</span><span class="sxs-lookup"><span data-stu-id="f5b28-259">The PowerShell Gallery isn't designed to be a target for testing the publishing process.</span></span> <span data-ttu-id="f5b28-260">A melhor maneira de testar o processo de ponta a ponta de publicação no Galeria do PowerShell é configurar e usar seu próprio repositório local.</span><span class="sxs-lookup"><span data-stu-id="f5b28-260">The best way to test out the end-to-end process of publishing to the PowerShell Gallery is to set up and use your own local repository.</span></span> <span data-ttu-id="f5b28-261">Isso pode ser feito de algumas maneiras, incluindo:</span><span class="sxs-lookup"><span data-stu-id="f5b28-261">This can be done in a few ways, including:</span></span>

- <span data-ttu-id="f5b28-262">Configure uma instância de Galeria do PowerShell local usando o [projeto da galeria privada do PS](https://github.com/PowerShell/PSPrivateGallery) no github.</span><span class="sxs-lookup"><span data-stu-id="f5b28-262">Set up a local PowerShell Gallery instance, using the [PS Private Gallery project](https://github.com/PowerShell/PSPrivateGallery) in GitHub.</span></span> <span data-ttu-id="f5b28-263">Este projeto de visualização ajudará você a configurar uma instância do Galeria do PowerShell que você pode controlar e usar para seus testes.</span><span class="sxs-lookup"><span data-stu-id="f5b28-263">This preview project will help you set up an instance of the PowerShell Gallery that you can control, and use for your tests.</span></span>
- <span data-ttu-id="f5b28-264">Configure um [repositório do NuGet interno](https://blogs.msdn.microsoft.com/powershell/2014/05/20/setting-up-an-internal-powershellget-repository/).</span><span class="sxs-lookup"><span data-stu-id="f5b28-264">Set up an [internal Nuget repository](https://blogs.msdn.microsoft.com/powershell/2014/05/20/setting-up-an-internal-powershellget-repository/).</span></span>
  <span data-ttu-id="f5b28-265">Isso exigirá mais trabalho a ser configurado, mas terá a vantagem de validar alguns dos requisitos, particularmente a validação do uso de uma chave de API e se as dependências estão presentes ou não no destino quando você publica.</span><span class="sxs-lookup"><span data-stu-id="f5b28-265">This will require more work to set up, but will have the advantage of validating a few more of the requirements, notably validating use of an API key, and whether or not dependencies are present in the target when you publish.</span></span>
- <span data-ttu-id="f5b28-266">Configure um compartilhamento de arquivos como o **repositório**de teste.</span><span class="sxs-lookup"><span data-stu-id="f5b28-266">Set up a file share as the test **repository**.</span></span> <span data-ttu-id="f5b28-267">Isso é fácil de configurar, mas como é um compartilhamento de arquivos, as validações indicadas acima não ocorrerão.</span><span class="sxs-lookup"><span data-stu-id="f5b28-267">This is easy to set up, but since it's a file share, the validations noted above will not take place.</span></span> <span data-ttu-id="f5b28-268">Uma vantagem potencial nesse caso é que o compartilhamento de arquivos não verifica a chave de API necessária, para que você possa usar a mesma chave que usaria para publicar na Galeria do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f5b28-268">One potential advantage in this case is that the file share doesn't check the required API key, so you can use the same key you would use to publish to the PowerShell Gallery.</span></span>

<span data-ttu-id="f5b28-269">Com qualquer uma dessas soluções, use `Register-PSRepository` para definir um novo **repositório**, que `-Repository` você usa no parâmetro para `Publish-Module`.</span><span class="sxs-lookup"><span data-stu-id="f5b28-269">With any of these solutions, use `Register-PSRepository` to define a new **repository**, which you use in the `-Repository` parameter for `Publish-Module`.</span></span>

<span data-ttu-id="f5b28-270">Um ponto adicional sobre a publicação de teste: qualquer pacote que você publicar na Galeria do PowerShell não poderá ser excluído sem ajuda da equipe de operações, que confirmará que nada depende do pacote que você deseja publicar.</span><span class="sxs-lookup"><span data-stu-id="f5b28-270">One additional point about test publishing: any package you publish to the PowerShell Gallery can't be deleted without help from the operations team, who will confirm that nothing is dependent upon the package you wish to publish.</span></span> <span data-ttu-id="f5b28-271">Por esse motivo, não há suporte para o Galeria do PowerShell como um destino de teste e entraremos em contato com qualquer editor que faça isso.</span><span class="sxs-lookup"><span data-stu-id="f5b28-271">For that reason, we don't support the PowerShell Gallery as a testing target, and will contact any publisher who does so.</span></span>

## <a name="use-powershellget-to-publish"></a><span data-ttu-id="f5b28-272">Usar o PowerShellGet para publicar</span><span class="sxs-lookup"><span data-stu-id="f5b28-272">Use PowerShellGet to publish</span></span>

<span data-ttu-id="f5b28-273">É altamente recomendável que os editores usem `Publish-Module` os `Publish-Script` cmdlets e ao trabalhar com o Galeria do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f5b28-273">It's strongly recommended that publishers use the `Publish-Module` and `Publish-Script` cmdlets when working with the PowerShell Gallery.</span></span> <span data-ttu-id="f5b28-274">O **PowerShellGet** foi criado para ajudá-lo a evitar a memorização de detalhes importantes sobre a instalação e a publicação no Galeria do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f5b28-274">**PowerShellGet** was created to help you avoid remembering important details about installing from and publishing to the PowerShell Gallery.</span></span> <span data-ttu-id="f5b28-275">Na ocasião, os editores optaram por ignorar o **PowerShellGet** e usar os cmdlets cliente **NuGet** , ou **PackageManagement** , `Publish-Module`em vez de.</span><span class="sxs-lookup"><span data-stu-id="f5b28-275">On occasion, publishers have chosen to skip **PowerShellGet** and use the **NuGet** client, or **PackageManagement** cmdlets, instead of `Publish-Module`.</span></span> <span data-ttu-id="f5b28-276">Há vários detalhes que são facilmente perdidos, o que resulta em uma variedade de solicitações de suporte.</span><span class="sxs-lookup"><span data-stu-id="f5b28-276">There are a number of details that are easily missed, which results in a variety of support requests.</span></span>

<span data-ttu-id="f5b28-277">Se houver um motivo para você não poder usar `Publish-Module` ou `Publish-Script`, informe-nos.</span><span class="sxs-lookup"><span data-stu-id="f5b28-277">If there's a reason that you can't use `Publish-Module` or `Publish-Script`, please let us know.</span></span>
<span data-ttu-id="f5b28-278">Execute um problema no repositório GitHub do **PowerShellGet** e forneça os detalhes que fazem com que você escolha **NuGet** ou **PackageManagement**.</span><span class="sxs-lookup"><span data-stu-id="f5b28-278">File an issue in the **PowerShellGet** GitHub repo, and provide the details that cause you to choose **NuGet** or **PackageManagement**.</span></span>

## <a name="recommended-workflow"></a><span data-ttu-id="f5b28-279">Fluxo de trabalho recomendado</span><span class="sxs-lookup"><span data-stu-id="f5b28-279">Recommended workflow</span></span>

<span data-ttu-id="f5b28-280">A abordagem mais bem-sucedida encontrada para os pacotes publicados no Galeria do PowerShell é a seguinte:</span><span class="sxs-lookup"><span data-stu-id="f5b28-280">The most successful approach we have found for packages published to the PowerShell Gallery is this:</span></span>

- <span data-ttu-id="f5b28-281">Faça o desenvolvimento inicial em um site de projeto de código aberto.</span><span class="sxs-lookup"><span data-stu-id="f5b28-281">Do initial development in an open-source project site.</span></span> <span data-ttu-id="f5b28-282">A equipe do PowerShell usa o GitHub.</span><span class="sxs-lookup"><span data-stu-id="f5b28-282">The PowerShell Team uses GitHub.</span></span>
- <span data-ttu-id="f5b28-283">Use comentários dos revisores e do [PowerShell script Analyzer](https://aka.ms/psscriptanalyzer) para obter o código para o estado estável.</span><span class="sxs-lookup"><span data-stu-id="f5b28-283">Use feedback from reviewers and [Powershell Script Analyzer](https://aka.ms/psscriptanalyzer) to get the code to stable state.</span></span>
- <span data-ttu-id="f5b28-284">Inclua a documentação, para que outras pessoas saibam como usar seu trabalho.</span><span class="sxs-lookup"><span data-stu-id="f5b28-284">Include documentation, so others know how to use your work.</span></span>
- <span data-ttu-id="f5b28-285">Teste a ação de publicação usando um repositório local.</span><span class="sxs-lookup"><span data-stu-id="f5b28-285">Test out the publishing action using a local repository.</span></span>
- <span data-ttu-id="f5b28-286">Publique uma versão estável ou alfa para o Galeria do PowerShell, conferindo-se a incluir a documentação e o link para o site do projeto.</span><span class="sxs-lookup"><span data-stu-id="f5b28-286">Publish a stable or Alpha release to the PowerShell Gallery, making sure to include the documentation and link to your project site.</span></span>
- <span data-ttu-id="f5b28-287">Reúna comentários e itere no código do site do projeto e publique atualizações estáveis no Galeria do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f5b28-287">Gather feedback and iterate on the code in your project site, then publish stable updates to the PowerShell Gallery.</span></span>
- <span data-ttu-id="f5b28-288">Adicione exemplos e testes de Pester em seu projeto e seu módulo.</span><span class="sxs-lookup"><span data-stu-id="f5b28-288">Add examples and Pester tests in your project and your module.</span></span>
- <span data-ttu-id="f5b28-289">Decida se deseja assinar o código do seu pacote.</span><span class="sxs-lookup"><span data-stu-id="f5b28-289">Decide if you want to code sign your package.</span></span>
- <span data-ttu-id="f5b28-290">Quando você sentir que o projeto está pronto para uso em um ambiente de produção, `1.0.0` publique uma versão no Galeria do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f5b28-290">When you feel the project is ready to use in a production environment, publish a `1.0.0` version to the PowerShell Gallery.</span></span>
- <span data-ttu-id="f5b28-291">Continue a coletar comentários e iterar em seu código com base na entrada do usuário.</span><span class="sxs-lookup"><span data-stu-id="f5b28-291">Continue to gather feedback and iterate on your code based on user input.</span></span>
