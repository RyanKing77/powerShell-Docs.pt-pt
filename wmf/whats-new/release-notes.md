---
ms.date: 06/12/2017
ms.topic: conceptual
keywords: wmf,powershell,setup
title: Notas de Versão do WMF 5.x
ms.openlocfilehash: 8924240a4bbedcd34bc68b7cacdd23189a3716d6
ms.sourcegitcommit: 00083f07b13c73b86936e7d7307397df27c63c04
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 09/10/2019
ms.locfileid: "70848151"
---
# <a name="windows-management-framework-wmf-5x-release-notes"></a><span data-ttu-id="2a93c-103">Notas de versão do Windows Management Framework (WMF) 5. x</span><span class="sxs-lookup"><span data-stu-id="2a93c-103">Windows Management Framework (WMF) 5.x Release Notes</span></span>

## <a name="wmf-50-changes"></a><span data-ttu-id="2a93c-104">Alterações do WMF 5,0</span><span class="sxs-lookup"><span data-stu-id="2a93c-104">WMF 5.0 Changes</span></span>

- <span data-ttu-id="2a93c-105">O PowerShell 5,0 adiciona um novo fluxo de **informações** estruturadas</span><span class="sxs-lookup"><span data-stu-id="2a93c-105">PowerShell 5.0 adds a new structured **Information** stream</span></span>
- <span data-ttu-id="2a93c-106">Melhorias no DSC, incluindo quatro novos recursos de DSC:</span><span class="sxs-lookup"><span data-stu-id="2a93c-106">Improvements to DSC including four new DSC resources:</span></span>
  - <span data-ttu-id="2a93c-107">WindowsFeatureSet</span><span class="sxs-lookup"><span data-stu-id="2a93c-107">WindowsFeatureSet</span></span>
  - <span data-ttu-id="2a93c-108">WindowsOptionalFeatureSet</span><span class="sxs-lookup"><span data-stu-id="2a93c-108">WindowsOptionalFeatureSet</span></span>
  - <span data-ttu-id="2a93c-109">ServiceSet</span><span class="sxs-lookup"><span data-stu-id="2a93c-109">ServiceSet</span></span>
  - <span data-ttu-id="2a93c-110">ProcessSet</span><span class="sxs-lookup"><span data-stu-id="2a93c-110">ProcessSet</span></span>
- <span data-ttu-id="2a93c-111">Adicionado apenas a administração suficiente para habilitar a administração baseada em funções por meio de comunicação remota do PowerShell</span><span class="sxs-lookup"><span data-stu-id="2a93c-111">Added Just Enough Administration to enable role-based administration through PowerShell remoting</span></span>
- <span data-ttu-id="2a93c-112">O PowerShell 5,0 estende a linguagem para incluir classes e enumerações definidas pelo usuário</span><span class="sxs-lookup"><span data-stu-id="2a93c-112">PowerShell 5.0 extends the language to include user-defined classes and enumerations</span></span>
- <span data-ttu-id="2a93c-113">Recursos de depuração aprimorados no ISE do PowerShell e adição de depuração remota</span><span class="sxs-lookup"><span data-stu-id="2a93c-113">Improved debugging features in PowerShell ISE and added remote debugging</span></span>
- <span data-ttu-id="2a93c-114">Adicionados os módulos PowerShellGet e PackageManagement</span><span class="sxs-lookup"><span data-stu-id="2a93c-114">Added the PowerShellGet and PackageManagement modules</span></span>
- <span data-ttu-id="2a93c-115">Log e transcrições de script do PowerShell aprimorados</span><span class="sxs-lookup"><span data-stu-id="2a93c-115">Enhanced PowerShell script logging and transcripts</span></span>
- <span data-ttu-id="2a93c-116">Adicionar cmdlets de sintaxe de mensagem criptográfica</span><span class="sxs-lookup"><span data-stu-id="2a93c-116">Add Cryptographic Message Syntax cmdlets</span></span>
- <span data-ttu-id="2a93c-117">O WMF 5,0 inclui o módulo NetworkSwitchManager para Windows</span><span class="sxs-lookup"><span data-stu-id="2a93c-117">WMF 5.0 includes the NetworkSwitchManager module for Windows</span></span>
- <span data-ttu-id="2a93c-118">Adicionado o módulo Microsoft. PowerShell. ODataUtils</span><span class="sxs-lookup"><span data-stu-id="2a93c-118">Added the Microsoft.PowerShell.ODataUtils module</span></span>
- <span data-ttu-id="2a93c-119">Adicionado suporte para log de inventário de software (SIL)</span><span class="sxs-lookup"><span data-stu-id="2a93c-119">Added support for Software Inventory Logging (SIL)</span></span>
- <span data-ttu-id="2a93c-120">Cmdlets novo ou de atualização do servidor em resposta a solicitações e problemas do usuário</span><span class="sxs-lookup"><span data-stu-id="2a93c-120">Sever new or update cmdlets in response to user requests and issues</span></span>

## <a name="wmf-51-changes"></a><span data-ttu-id="2a93c-121">Alterações do WMF 5,1</span><span class="sxs-lookup"><span data-stu-id="2a93c-121">WMF 5.1 Changes</span></span>

<span data-ttu-id="2a93c-122">O WMF 5,1 inclui os componentes do PowerShell, WMI, WinRM e SIL (log de inventário de software) que foram lançados com o Windows Server 2016.</span><span class="sxs-lookup"><span data-stu-id="2a93c-122">WMF 5.1 includes the PowerShell, WMI, WinRM, and Software Inventory Logging (SIL) components that were released with Windows Server 2016.</span></span> <span data-ttu-id="2a93c-123">O WMF 5,1 pode ser instalado no Windows 7, Windows 8.1, Windows Server 2008 R2, 2012 e 2012 R2 e fornece várias melhorias em relação ao WMF 5,0, incluindo:</span><span class="sxs-lookup"><span data-stu-id="2a93c-123">WMF 5.1 can be installed on Windows 7, Windows 8.1, Windows Server 2008 R2, 2012, and 2012 R2, and provides several improvements over WMF 5.0 including:</span></span>

- <span data-ttu-id="2a93c-124">Novos cmdlets</span><span class="sxs-lookup"><span data-stu-id="2a93c-124">New cmdlets</span></span>
- <span data-ttu-id="2a93c-125">Melhorias do PowerShellGet com a imposição de módulos assinados e a instalação de módulos JEA</span><span class="sxs-lookup"><span data-stu-id="2a93c-125">PowerShellGet improvements include enforcing signed modules, and installing JEA modules</span></span>
- <span data-ttu-id="2a93c-126">Adicionado suporte ao PackageManagement para Contentores, Configuração CBS, configuração com base em EXE, pacotes CAB</span><span class="sxs-lookup"><span data-stu-id="2a93c-126">PackageManagement added support for Containers, CBS Setup, EXE-based setup, CAB packages</span></span>
- <span data-ttu-id="2a93c-127">Melhorias na depuração para classes DSC e PowerShell</span><span class="sxs-lookup"><span data-stu-id="2a93c-127">Debugging improvements for DSC and PowerShell classes</span></span>
- <span data-ttu-id="2a93c-128">Melhorias de segurança, incluindo a imposição de módulos assinados de catálogo provenientes do Servidor de Solicitação e ao utilizar os cmdlets PowerShellGet</span><span class="sxs-lookup"><span data-stu-id="2a93c-128">Security enhancements including enforcement of catalog-signed modules coming from the Pull Server and when using PowerShellGet cmdlets</span></span>
- <span data-ttu-id="2a93c-129">Respostas a vários pedidos e problemas de utilizadores</span><span class="sxs-lookup"><span data-stu-id="2a93c-129">Responses to a number of user requests and issues</span></span>

> [!IMPORTANT]
> <span data-ttu-id="2a93c-130">Antes de instalar o WMF 5,1 no Windows Server 2008 ou no Windows 7, confirme se o WMF 3,0 não está instalado.</span><span class="sxs-lookup"><span data-stu-id="2a93c-130">Before you install WMF 5.1 on Windows Server 2008 or Windows 7, confirm that WMF 3.0 isn't installed.</span></span> <span data-ttu-id="2a93c-131">Para obter mais informações, consulte [pré-requisitos do WMF 5,1 para Windows Server 2008 R2 SP1 e Windows 7 SP1](../setup/install-configure.md#wmf-51-prerequisites-for-windows-server-2008-r2-sp1-and-windows-7-sp1).</span><span class="sxs-lookup"><span data-stu-id="2a93c-131">For more information, see [WMF 5.1 Prerequisites for Windows Server 2008 R2 SP1 and Windows 7 SP1](../setup/install-configure.md#wmf-51-prerequisites-for-windows-server-2008-r2-sp1-and-windows-7-sp1).</span></span>

## <a name="powershell-editions"></a><span data-ttu-id="2a93c-132">Edições do PowerShell</span><span class="sxs-lookup"><span data-stu-id="2a93c-132">PowerShell Editions</span></span>

<span data-ttu-id="2a93c-133">A partir da versão 5,1, o PowerShell está disponível em diferentes edições que denotam diversos conjuntos de recursos e compatibilidade de plataforma.</span><span class="sxs-lookup"><span data-stu-id="2a93c-133">Starting with version 5.1, PowerShell is available in different editions that denote varying feature sets and platform compatibility.</span></span>

- <span data-ttu-id="2a93c-134">**Edição de desktop:** Criado com base em .NET Framework e fornece compatibilidade com scripts e módulos que visam versões do PowerShell em execução em edições de superfície completa do Windows, como Server Core e Windows desktop.</span><span class="sxs-lookup"><span data-stu-id="2a93c-134">**Desktop Edition:** Built on .NET Framework and provides compatibility with scripts and modules targeting versions of PowerShell running on full footprint editions of Windows such as Server Core and Windows Desktop.</span></span>
- <span data-ttu-id="2a93c-135">**Core Edition:** Criado com base no .NET Core e fornece compatibilidade com scripts e módulos destinados a versões do PowerShell em execução em edições de superfície reduzida do Windows, como nano Server e Windows IoT.</span><span class="sxs-lookup"><span data-stu-id="2a93c-135">**Core Edition:** Built on .NET Core and provides compatibility with scripts and modules targeting versions of PowerShell running on reduced footprint editions of Windows such as Nano Server and Windows IoT.</span></span>

### <a name="learn-more-about-using-powershell-editions"></a><span data-ttu-id="2a93c-136">Saiba mais sobre como usar as edições do PowerShell</span><span class="sxs-lookup"><span data-stu-id="2a93c-136">Learn more about using PowerShell Editions</span></span>

- [<span data-ttu-id="2a93c-137">Determinar a edição em execução do PowerShell usando $PSVersionTable</span><span class="sxs-lookup"><span data-stu-id="2a93c-137">Determine running edition of PowerShell using $PSVersionTable</span></span>](/powershell/module/microsoft.powershell.core/about/about_automatic_variables)
- [<span data-ttu-id="2a93c-138">Filtrar resultados de Get-Module por CompatiblePSEditions usando o parâmetro PSEdition</span><span class="sxs-lookup"><span data-stu-id="2a93c-138">Filter Get-Module results by CompatiblePSEditions using PSEdition parameter</span></span>](/powershell/module/microsoft.powershell.core/get-module)
- [<span data-ttu-id="2a93c-139">Impedir a execução do script, a menos que seja executado em uma edição compatível do PowerShell</span><span class="sxs-lookup"><span data-stu-id="2a93c-139">Prevent script execution unless run on a compatible edition of PowerShell</span></span>](/powershell/gallery/concepts/script-psedition-support)
- [<span data-ttu-id="2a93c-140">Declarar a compatibilidade de um módulo com versões específicas do PowerShell</span><span class="sxs-lookup"><span data-stu-id="2a93c-140">Declare a module's compatibility to specific PowerShell versions</span></span>](/powershell/gallery/concepts/module-psedition-support)

## <a name="module-analysis-cache"></a><span data-ttu-id="2a93c-141">Cache de análise de módulo</span><span class="sxs-lookup"><span data-stu-id="2a93c-141">Module Analysis Cache</span></span>

<span data-ttu-id="2a93c-142">A partir do WMF 5,1, o PowerShell fornece controle sobre o arquivo usado para armazenar em cache dados sobre um módulo, como os comandos que ele exporta.</span><span class="sxs-lookup"><span data-stu-id="2a93c-142">Starting with WMF 5.1, PowerShell provides control over the file that is used to cache data about a module, such as the commands it exports.</span></span>

<span data-ttu-id="2a93c-143">Por padrão, esse cache é armazenado no arquivo `${env:LOCALAPPDATA}\Microsoft\Windows\PowerShell\ModuleAnalysisCache`.</span><span class="sxs-lookup"><span data-stu-id="2a93c-143">By default, this cache is stored in the file `${env:LOCALAPPDATA}\Microsoft\Windows\PowerShell\ModuleAnalysisCache`.</span></span> <span data-ttu-id="2a93c-144">O cache é normalmente lido na inicialização durante a pesquisa de um comando e é gravado em um thread em segundo plano depois que um módulo é importado.</span><span class="sxs-lookup"><span data-stu-id="2a93c-144">The cache is typically read at startup while searching for a command and is written on a background thread sometime after a module is imported.</span></span>

<span data-ttu-id="2a93c-145">Para alterar o local padrão do cache, defina a variável `$env:PSModuleAnalysisCachePath` de ambiente antes de iniciar o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="2a93c-145">To change the default location of the cache, set the `$env:PSModuleAnalysisCachePath` environment variable before starting PowerShell.</span></span> <span data-ttu-id="2a93c-146">As alterações nessa variável de ambiente afetarão apenas os processos filhos.</span><span class="sxs-lookup"><span data-stu-id="2a93c-146">Changes to this environment variable will only affect children processes.</span></span> <span data-ttu-id="2a93c-147">O valor deve nomear um caminho completo (incluindo o nome de arquivo) que o PowerShell tem permissão para criar e gravar arquivos.</span><span class="sxs-lookup"><span data-stu-id="2a93c-147">The value should name a full path (including filename) that PowerShell has permission to create and write files.</span></span> <span data-ttu-id="2a93c-148">Para desabilitar o cache de arquivos, defina esse valor como um local inválido, por exemplo:</span><span class="sxs-lookup"><span data-stu-id="2a93c-148">To disable the file cache, set this value to an invalid location, for example:</span></span>

```powershell
$env:PSModuleAnalysisCachePath = 'nul'
```

<span data-ttu-id="2a93c-149">Isso define o caminho para um dispositivo inválido.</span><span class="sxs-lookup"><span data-stu-id="2a93c-149">This sets the path to an invalid device.</span></span> <span data-ttu-id="2a93c-150">Se o PowerShell não puder gravar no caminho, nenhum erro será retornado, mas você poderá ver o relatório de erros usando um rastreador:</span><span class="sxs-lookup"><span data-stu-id="2a93c-150">If PowerShell can't write to the path, no error is returned, but you can see error reporting by using a tracer:</span></span>

```powershell
Trace-Command -PSHost -Name Modules -Expression { Import-Module Microsoft.PowerShell.Management -Force }
```

<span data-ttu-id="2a93c-151">Ao gravar o cache, o PowerShell verificará se há módulos que não existem mais para evitar um cache desnecessariamente grande.</span><span class="sxs-lookup"><span data-stu-id="2a93c-151">When writing out the cache, PowerShell will check for modules that no longer exist to avoid an unnecessarily large cache.</span></span> <span data-ttu-id="2a93c-152">Às vezes, essas verificações não são desejáveis; nesse caso, você pode desativá-las definindo:</span><span class="sxs-lookup"><span data-stu-id="2a93c-152">Sometimes these checks are not desirable, in which case you can turn them off by setting:</span></span>

```powershell
$env:PSDisableModuleAnalysisCacheCleanup = 1
```

<span data-ttu-id="2a93c-153">Definir essa variável de ambiente entrará em vigor imediatamente no processo atual.</span><span class="sxs-lookup"><span data-stu-id="2a93c-153">Setting this environment variable will take effect immediately in the current process.</span></span>

## <a name="specifying-module-version"></a><span data-ttu-id="2a93c-154">Especificando a versão do módulo</span><span class="sxs-lookup"><span data-stu-id="2a93c-154">Specifying module version</span></span>

<span data-ttu-id="2a93c-155">No WMF 5,1, `using module` o se comporta da mesma forma que outras construções relacionadas ao módulo no PowerShell.</span><span class="sxs-lookup"><span data-stu-id="2a93c-155">In WMF 5.1, `using module` behaves the same way as other module-related constructions in PowerShell.</span></span>
<span data-ttu-id="2a93c-156">Anteriormente, não era possível especificar uma versão específica do módulo; Se houver várias versões presentes, isso resultaria em um erro.</span><span class="sxs-lookup"><span data-stu-id="2a93c-156">Previously, you had no way to specify a particular module version; if there were multiple versions present, this resulted in an error.</span></span>

<span data-ttu-id="2a93c-157">No WMF 5,1:</span><span class="sxs-lookup"><span data-stu-id="2a93c-157">In WMF 5.1:</span></span>

- <span data-ttu-id="2a93c-158">Você pode usar o [Construtor ModuleSpecification (Hashtable)](/dotnet/api/microsoft.powershell.commands.modulespecification.-ctor?view=powershellsdk-1.1.0#Microsoft_PowerShell_Commands_ModuleSpecification__ctor_System_Collections_Hashtable_).</span><span class="sxs-lookup"><span data-stu-id="2a93c-158">You can use [ModuleSpecification Constructor (Hashtable)](/dotnet/api/microsoft.powershell.commands.modulespecification.-ctor?view=powershellsdk-1.1.0#Microsoft_PowerShell_Commands_ModuleSpecification__ctor_System_Collections_Hashtable_).</span></span>

  <span data-ttu-id="2a93c-159">Esta tabela de hash tem o mesmo formato `Get-Module -FullyQualifiedName`que.</span><span class="sxs-lookup"><span data-stu-id="2a93c-159">This hash table has the same format as `Get-Module -FullyQualifiedName`.</span></span>

  <span data-ttu-id="2a93c-160">**Exemplo:** `using module @{ModuleName = 'PSReadLine'; RequiredVersion = '1.1'}`</span><span class="sxs-lookup"><span data-stu-id="2a93c-160">**Example:** `using module @{ModuleName = 'PSReadLine'; RequiredVersion = '1.1'}`</span></span>

- <span data-ttu-id="2a93c-161">Se houver várias versões do módulo, o PowerShell usará a **mesma lógica** de resolução `Import-Module` que e não retornará um erro – `Import-Module` o mesmo comportamento de e `Import-DscResource`.</span><span class="sxs-lookup"><span data-stu-id="2a93c-161">If there are multiple versions of the module, PowerShell uses the **same resolution logic** as `Import-Module` and doesn't return an error--the same behavior as `Import-Module` and `Import-DscResource`.</span></span>

## <a name="improvements-to-pester"></a><span data-ttu-id="2a93c-162">Melhorias no Pester</span><span class="sxs-lookup"><span data-stu-id="2a93c-162">Improvements to Pester</span></span>

<span data-ttu-id="2a93c-163">No WMF 5,1, a versão do Pester que acompanha o PowerShell foi atualizada de 3.3.5 para 3.4.0.</span><span class="sxs-lookup"><span data-stu-id="2a93c-163">In WMF 5.1, the version of Pester that ships with PowerShell has been updated from 3.3.5 to 3.4.0.</span></span>
<span data-ttu-id="2a93c-164">Essa atualização permite um melhor comportamento para o Pester no nano Server.</span><span class="sxs-lookup"><span data-stu-id="2a93c-164">This update enables better behavior for Pester on Nano Server.</span></span>

<span data-ttu-id="2a93c-165">Você pode examinar as alterações no pestware inspecionando o [changelog](https://github.com/pester/Pester/blob/master/CHANGELOG.md) no repositório do github.</span><span class="sxs-lookup"><span data-stu-id="2a93c-165">You can review the changes in Pest by inspecting the [ChangeLog](https://github.com/pester/Pester/blob/master/CHANGELOG.md) in the GitHub repository.</span></span>
